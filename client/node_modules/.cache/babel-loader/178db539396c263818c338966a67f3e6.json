{"ast":null,"code":"import _toConsumableArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{BrowserView,MobileView}from\"react-device-detect\";import EditableTable from\"../../../partials/EditableTable\";import SubmitWorkout from\"./SubmitWorkout\";import{Modal}from\"react-bootstrap\";import{useAuth0}from\"@auth0/auth0-react\";import{FcPlus}from\"react-icons/fc\";import axios from\"axios\";var SetNewWorkout=function SetNewWorkout(_ref){var index=_ref.index,isShown=_ref.isShown,SetShown=_ref.SetShown,isCurrID=_ref.isCurrID,updateData=_ref.updateData;var _useAuth=useAuth0(),user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),isWorkoutDesc=_useState2[0],SetWorkoutDesc=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),isNewExercise=_useState4[0],SetNewExercise=_useState4[1];var submitNewWorkout=function submitNewWorkout(e){var logId=e.target.id;var logTitle=document.getElementById(\"log-title-\"+\"\".concat(logId)).innerText;var exerciseName=document.querySelector(\"#new-workout-name\"+\"\".concat(logId)).value;var exerciseDesc=document.querySelector(\"#new-workout-desc\"+\"\".concat(logId)).value;var logDesc=document.getElementById(\"log-desc-\"+\"\".concat(logId)).innerText;if(exerciseName===null||exerciseName===\"\"){alert(\"Please provide the name\");return;}var date=new Date();axios.post(\"api/logs/add/\".concat(isCurrID[logId]),{username:user.email,title:logTitle,name:exerciseName,description:exerciseDesc,set:isWorkoutDesc[logId].set,reps:isWorkoutDesc[logId].reps,weight:isWorkoutDesc[logId].weight,date:date}).then(function(response){console.log(response);updateData(false,isCurrID[logId]);cancelNewWorkout(e,isCurrID[logId]);}).catch(function(err){console.log(err);});};var SetExerciseDescription=function SetExerciseDescription(state,idx){SetWorkoutDesc(function(isWorkoutDesc){return[].concat(_toConsumableArray(isWorkoutDesc.slice(0,idx)),[state],_toConsumableArray(isWorkoutDesc.slice(idx+1)));});};var cancelNewWorkout=function cancelNewWorkout(e,index){e.preventDefault();SetNewExercise(function(isNewExercise){return[].concat(_toConsumableArray(isNewExercise.slice(0,index)),_toConsumableArray(isNewExercise.slice(index+1)));});SetShown(function(isShown){return[].concat(_toConsumableArray(isShown.slice(0,index)),[false],_toConsumableArray(isShown.slice(index+1)));});};return/*#__PURE__*/React.createElement(React.Fragment,null,isShown[index]&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BrowserView,null,/*#__PURE__*/React.createElement(\"div\",{className:\"p-2 ml-2 d-flex d-inline-flex\"},\"Name: \",/*#__PURE__*/React.createElement(\"input\",{size:25,id:\"new-workout-name\"+\"\".concat(index)})),/*#__PURE__*/React.createElement(\"div\",{className:\"p-2 ml-2 d-flex d-inline-flex\"},\"Description:\",\" \",/*#__PURE__*/React.createElement(\"textarea\",{rows:5,cols:50,id:\"new-workout-desc\"+\"\".concat(index)})),/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{overflowX:\"auto\"}},/*#__PURE__*/React.createElement(EditableTable,{index:index,thead:[\"Set\",\"Reps\",\"Weight\"],SetData:SetExerciseDescription,style:{color:\"black\",width:\"100%\"}}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex d-inline-flex\",style:{float:\"right\"}},/*#__PURE__*/React.createElement(SubmitWorkout,{submitNewWorkout:submitNewWorkout,cancelNewWorkout:cancelNewWorkout,index:index})))),/*#__PURE__*/React.createElement(MobileView,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{overflowX:\"auto\"}},/*#__PURE__*/React.createElement(Modal,{show:isShown[index]},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,\"Add new workout\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"p-2 ml-2 d-flex d-inline-flex\"},\"Name:\",\" \",/*#__PURE__*/React.createElement(\"input\",{size:25,id:\"new-workout-name\"+\"\".concat(index)})),/*#__PURE__*/React.createElement(\"div\",{className:\"p-2 ml-2 d-flex d-inline-flex\"},\"Description:\",\" \",/*#__PURE__*/React.createElement(\"textarea\",{rows:5,cols:25,id:\"new-workout-desc\"+\"\".concat(index)})),/*#__PURE__*/React.createElement(EditableTable,{index:index,thead:[\"Set\",\"Reps\",\"Weight\"],SetData:SetExerciseDescription,style:{color:\"black\",width:\"inherit\",fontSize:\"1.7vh\",margin:\"0\"}})),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(SubmitWorkout,{submitNewWorkout:submitNewWorkout,cancelNewWorkout:cancelNewWorkout,index:index})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex d-inline-flex\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"button\",{id:index,style:{borderRadius:\"10vw\",background:\"none\",borderStyle:\"hidden\"},onClick:function onClick(e){e.preventDefault();SetShown(function(isShown){return[].concat(_toConsumableArray(isShown.slice(0,index)),[true],_toConsumableArray(isShown.slice(index+1)));});}},/*#__PURE__*/React.createElement(FcPlus,{size:\"2em\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"p-2 font-weight-bold\",style:{color:\"black\"}},\"Add New Exercise\")),/*#__PURE__*/React.createElement(\"br\",null)));};export default SetNewWorkout;","map":{"version":3,"sources":["/var/www/Exercise_Logger/client/src/components/log/exercises/actions/SetNewWorkout.js"],"names":["React","useState","BrowserView","MobileView","EditableTable","SubmitWorkout","Modal","useAuth0","FcPlus","axios","SetNewWorkout","index","isShown","SetShown","isCurrID","updateData","user","isWorkoutDesc","SetWorkoutDesc","isNewExercise","SetNewExercise","submitNewWorkout","e","logId","target","id","logTitle","document","getElementById","innerText","exerciseName","querySelector","value","exerciseDesc","logDesc","alert","date","Date","post","username","email","title","name","description","set","reps","weight","then","response","console","log","cancelNewWorkout","catch","err","SetExerciseDescription","state","idx","slice","preventDefault","overflowX","color","width","float","fontSize","margin","textAlign","borderRadius","background","borderStyle"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { BrowserView, MobileView } from \"react-device-detect\";\nimport EditableTable from \"../../../partials/EditableTable\";\nimport SubmitWorkout from \"./SubmitWorkout\";\nimport { Modal } from \"react-bootstrap\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { FcPlus } from \"react-icons/fc\";\nimport axios from \"axios\";\n\nconst SetNewWorkout = ({ index, isShown, SetShown, isCurrID, updateData }) => {\n  const { user } = useAuth0();\n  const [isWorkoutDesc, SetWorkoutDesc] = useState([]);\n  const [isNewExercise, SetNewExercise] = useState([]);\n\n  const submitNewWorkout = (e) => {\n    let logId = e.target.id;\n    let logTitle = document.getElementById(\"log-title-\" + `${logId}`).innerText;\n    let exerciseName = document.querySelector(\"#new-workout-name\" + `${logId}`)\n      .value;\n    let exerciseDesc = document.querySelector(\"#new-workout-desc\" + `${logId}`)\n      .value;\n    let logDesc = document.getElementById(\"log-desc-\" + `${logId}`).innerText;\n    if (exerciseName === null || exerciseName === \"\") {\n      alert(\"Please provide the name\");\n      return;\n    }\n    let date = new Date();\n    axios\n      .post(`api/logs/add/${isCurrID[logId]}`, {\n        username: user.email,\n        title: logTitle,\n        name: exerciseName,\n        description: exerciseDesc,\n        set: isWorkoutDesc[logId].set,\n        reps: isWorkoutDesc[logId].reps,\n        weight: isWorkoutDesc[logId].weight,\n        date: date,\n      })\n      .then((response) => {\n        console.log(response);\n        updateData(false, isCurrID[logId]);\n        cancelNewWorkout(e, isCurrID[logId]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const SetExerciseDescription = (state, idx) => {\n    SetWorkoutDesc((isWorkoutDesc) => [\n      ...isWorkoutDesc.slice(0, idx),\n      state,\n      ...isWorkoutDesc.slice(idx + 1),\n    ]);\n  };\n  const cancelNewWorkout = (e, index) => {\n    e.preventDefault();\n    SetNewExercise((isNewExercise) => [\n      ...isNewExercise.slice(0, index),\n      ...isNewExercise.slice(index + 1),\n    ]);\n    SetShown((isShown) => [\n      ...isShown.slice(0, index),\n      false,\n      ...isShown.slice(index + 1),\n    ]);\n  };\n  return (\n    <>\n      {isShown[index] && (\n        <>\n          <BrowserView>\n            <div className={\"p-2 ml-2 d-flex d-inline-flex\"}>\n              Name: <input size={25} id={\"new-workout-name\" + `${index}`} />\n            </div>\n            <div className={\"p-2 ml-2 d-flex d-inline-flex\"}>\n              Description:{\" \"}\n              <textarea\n                rows={5}\n                cols={50}\n                id={\"new-workout-desc\" + `${index}`}\n              />\n            </div>\n            <div className={\"container\"} style={{ overflowX: \"auto\" }}>\n              <EditableTable\n                index={index}\n                thead={[\"Set\", \"Reps\", \"Weight\"]}\n                SetData={SetExerciseDescription}\n                style={{\n                  color: \"black\",\n                  width: \"100%\",\n                }}\n              />\n              <div\n                className={\"d-flex d-inline-flex\"}\n                style={{ float: \"right\" }}\n              >\n                <SubmitWorkout\n                  submitNewWorkout={submitNewWorkout}\n                  cancelNewWorkout={cancelNewWorkout}\n                  index={index}\n                />\n              </div>\n            </div>\n          </BrowserView>\n          <MobileView>\n            <div className={\"container\"} style={{ overflowX: \"auto\" }}>\n              <Modal show={isShown[index]}>\n                <Modal.Header closeButton>\n                  <Modal.Title>Add new workout</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                  <div className={\"p-2 ml-2 d-flex d-inline-flex\"}>\n                    Name:{\" \"}\n                    <input size={25} id={\"new-workout-name\" + `${index}`} />\n                  </div>\n                  <div className={\"p-2 ml-2 d-flex d-inline-flex\"}>\n                    Description:{\" \"}\n                    <textarea\n                      rows={5}\n                      cols={25}\n                      id={\"new-workout-desc\" + `${index}`}\n                    />\n                  </div>\n                  <EditableTable\n                    index={index}\n                    thead={[\"Set\", \"Reps\", \"Weight\"]}\n                    SetData={SetExerciseDescription}\n                    style={{\n                      color: \"black\",\n                      width: \"inherit\",\n                      fontSize: \"1.7vh\",\n                      margin: \"0\",\n                    }}\n                  />\n                </Modal.Body>\n                <Modal.Footer>\n                  <SubmitWorkout\n                    submitNewWorkout={submitNewWorkout}\n                    cancelNewWorkout={cancelNewWorkout}\n                    index={index}\n                  />\n                </Modal.Footer>\n              </Modal>\n            </div>\n          </MobileView>\n        </>\n      )}\n      <div className={\"d-flex d-inline-flex\"} style={{ textAlign: \"center\" }}>\n        <button\n          id={index}\n          style={{\n            borderRadius: \"10vw\",\n            background: \"none\",\n            borderStyle: \"hidden\",\n          }}\n          onClick={(e) => {\n            e.preventDefault();\n            SetShown((isShown) => [\n              ...isShown.slice(0, index),\n              true,\n              ...isShown.slice(index + 1),\n            ]);\n          }}\n        >\n          <FcPlus size={\"2em\"} />\n          <span className=\"p-2 font-weight-bold\" style={{ color: \"black\" }}>\n            Add New Exercise\n          </span>\n        </button>\n        <br />\n      </div>\n    </>\n  );\n};\nexport default SetNewWorkout;\n"]},"metadata":{},"sourceType":"module"}