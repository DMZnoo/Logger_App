{"ast":null,"code":"import _toConsumableArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button}from\"react-bootstrap\";import axios from\"axios\";import{useAuth0}from\"@auth0/auth0-react\";import{MdDone}from\"react-icons/md\";var SubmitUpdate=function SubmitUpdate(_ref){var index=_ref.index,_ref$workoutIndex=_ref.workoutIndex,workoutIndex=_ref$workoutIndex===void 0?-1:_ref$workoutIndex,isEdit=_ref.isEdit,isEditList=_ref.isEditList,isCurrID=_ref.isCurrID,updateData=_ref.updateData,SetEdit=_ref.SetEdit,target=_ref.target;var _useAuth=useAuth0(),user=_useAuth.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isHover=_useState2[0],SetHover=_useState2[1];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-success\",style:{borderRadius:\"10vw\",borderStyle:\"hidden\"},onClick:function onClick(e){e.preventDefault();var logTitle=document.querySelector(\"#log-title-\".concat(index));var logDesc=document.querySelector(\"#log-desc-\".concat(index));if(target===\"Log\"){logTitle=logTitle.value===null||logTitle.value.length===0?logTitle.getAttribute(\"placeholder\"):logTitle.value;logDesc=logDesc.value===null||logDesc.value.length===0?logDesc.getAttribute(\"placeholder\"):logDesc.value;}else{logTitle=logTitle.innerText;logDesc=logDesc.innerText;}console.log(logTitle);console.log(logDesc);console.log(user.email);console.log(\"editList:\",isEditList[0][1]);//edit the log\naxios.post(\"api/logs/update/\".concat(isCurrID[index]),{username:user.email,title:logTitle,description:logDesc,exercises:isEditList[0][1]}).then(function(response){console.log(\"Log Updated\");if(workoutIndex!==-1){SetEdit(function(isEdit){return[].concat(_toConsumableArray(isEdit.slice(0,workoutIndex)),[!isEdit[workoutIndex]],_toConsumableArray(isEdit.slice(workoutIndex+1)));});}else{SetEdit(function(isEdit){return[].concat(_toConsumableArray(isEdit.slice(0,index)),[!isEdit[index]],_toConsumableArray(isEdit.slice(index+1)));});}console.log(\"Updated Log data\",response);updateData(response.data,true,false);}).catch(function(err){console.log(err);});}},/*#__PURE__*/React.createElement(MdDone,{size:\"1.5em\",style:{color:\"green\"}}),/*#__PURE__*/React.createElement(\"span\",{className:\"p-2 font-weight-bold\",onMouseEnter:function onMouseEnter(){SetHover(!isHover);},onMouseOut:function onMouseOut(){SetHover(!isHover);},style:{color:isHover?\"white\":\"green\"}},\"Save?\")),/*#__PURE__*/React.createElement(Button,{className:\"p-2\",variant:\"outline-danger\",style:{borderRadius:\"10vw\",borderStyle:\"hidden\"},onClick:function onClick(e){if(workoutIndex!==-1){SetEdit(function(isEdit){return[].concat(_toConsumableArray(isEdit.slice(0,workoutIndex)),[!isEdit[workoutIndex]],_toConsumableArray(isEdit.slice(workoutIndex+1)));});}else{SetEdit(function(isEdit){return[].concat(_toConsumableArray(isEdit.slice(0,index)),[!isEdit[index]],_toConsumableArray(isEdit.slice(index+1)));});}}},\"Cancel\"),/*#__PURE__*/React.createElement(\"hr\",null));};export default SubmitUpdate;","map":{"version":3,"sources":["/var/www/Exercise_Logger/client/src/components/partials/SubmitUpdate.js"],"names":["React","useState","Button","axios","useAuth0","MdDone","SubmitUpdate","index","workoutIndex","isEdit","isEditList","isCurrID","updateData","SetEdit","target","user","isHover","SetHover","borderRadius","borderStyle","e","preventDefault","logTitle","document","querySelector","logDesc","value","length","getAttribute","innerText","console","log","email","post","username","title","description","exercises","then","response","slice","data","catch","err","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { MdDone } from \"react-icons/md\";\nconst SubmitUpdate = ({\n  index,\n  workoutIndex = -1,\n  isEdit,\n  isEditList,\n  isCurrID,\n  updateData,\n  SetEdit,\n  target,\n}) => {\n  const { user } = useAuth0();\n  const [isHover, SetHover] = useState(false);\n  return (\n    <>\n      <Button\n        variant={\"outline-success\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          e.preventDefault();\n          let logTitle = document.querySelector(`#log-title-${index}`);\n          let logDesc = document.querySelector(`#log-desc-${index}`);\n          if (target === \"Log\") {\n            logTitle =\n              logTitle.value === null || logTitle.value.length === 0\n                ? logTitle.getAttribute(\"placeholder\")\n                : logTitle.value;\n            logDesc =\n              logDesc.value === null || logDesc.value.length === 0\n                ? logDesc.getAttribute(\"placeholder\")\n                : logDesc.value;\n          } else {\n            logTitle = logTitle.innerText;\n            logDesc = logDesc.innerText;\n          }\n\n          console.log(logTitle);\n          console.log(logDesc);\n          console.log(user.email);\n          console.log(\"editList:\", isEditList[0][1]);\n          //edit the log\n          axios\n            .post(`api/logs/update/${isCurrID[index]}`, {\n              username: user.email,\n              title: logTitle,\n              description: logDesc,\n              exercises: isEditList[0][1],\n            })\n            .then((response) => {\n              console.log(\"Log Updated\");\n              if (workoutIndex !== -1) {\n                SetEdit((isEdit) => [\n                  ...isEdit.slice(0, workoutIndex),\n                  !isEdit[workoutIndex],\n                  ...isEdit.slice(workoutIndex + 1),\n                ]);\n              } else {\n                SetEdit((isEdit) => [\n                  ...isEdit.slice(0, index),\n                  !isEdit[index],\n                  ...isEdit.slice(index + 1),\n                ]);\n              }\n              console.log(\"Updated Log data\", response);\n              updateData(response.data, true, false);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        }}\n      >\n        <MdDone size={\"1.5em\"} style={{ color: \"green\" }} />\n        <span\n          className=\"p-2 font-weight-bold\"\n          onMouseEnter={() => {\n            SetHover(!isHover);\n          }}\n          onMouseOut={() => {\n            SetHover(!isHover);\n          }}\n          style={{ color: isHover ? \"white\" : \"green\" }}\n        >\n          Save?\n        </span>\n      </Button>\n      <Button\n        className={\"p-2\"}\n        variant={\"outline-danger\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          if (workoutIndex !== -1) {\n            SetEdit((isEdit) => [\n              ...isEdit.slice(0, workoutIndex),\n              !isEdit[workoutIndex],\n              ...isEdit.slice(workoutIndex + 1),\n            ]);\n          } else {\n            SetEdit((isEdit) => [\n              ...isEdit.slice(0, index),\n              !isEdit[index],\n              ...isEdit.slice(index + 1),\n            ]);\n          }\n        }}\n      >\n        Cancel\n      </Button>\n      <hr />\n    </>\n  );\n};\nexport default SubmitUpdate;\n"]},"metadata":{},"sourceType":"module"}