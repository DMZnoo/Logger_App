{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/WebstormProjects/Exercise_App/Exercise_Logger/client/src/components/partials/CustomTable.js\";\nimport React, { useState } from \"react\";\nimport { Button, Table } from \"react-bootstrap\";\nimport Delete from \"@material-ui/icons/Delete\";\nimport { wobble } from \"react-animations\";\nimport styled, { keyframes } from \"styled-components\";\nimport update from \"immutability-helper\";\nimport { FcPlus } from \"react-icons/fc\";\n\nconst CustomTable = ({\n  index,\n  thead,\n  data,\n  SetNewList,\n  isNewList = [],\n  SetRemoval = false,\n  style,\n  editable = false\n}) => {\n  const Wobble = styled.div`\n    animation: 1s ${keyframes`${wobble}`} infinite;\n  `;\n  const [isSelected, SetSelect] = useState(false);\n  const [isSelectList, SetSelectList] = useState([]);\n  const [isData, SetData] = useState(data);\n\n  const toggleAll = () => {\n    let parent = document.getElementById(\"checkbox-parent\");\n    let children = document.getElementsByName(\"checkbox-children\");\n    children.forEach(el => {\n      el.checked = parent.checked;\n\n      if (parent.checked) {\n        SetSelect(true);\n        el.parentElement.parentElement.setAttribute(\"style\", \"text-decoration: line-through; opacity:0.5\");\n        SetSelectList(isSelectList => [...isSelectList, el.parentElement.parentElement]);\n      } else {\n        SetSelect(false);\n        el.parentElement.parentElement.setAttribute(\"style\", \"text-decoration: none; opacity:1;\");\n        SetSelectList([]);\n      }\n    });\n  };\n\n  const showRemoveIcon = e => {\n    let children = document.getElementsByName(\"checkbox-children\");\n    let selected = 0;\n    children.forEach(el => {\n      if (el.checked) selected += 1;\n    });\n    if (selected > 0) SetSelect(true);else SetSelect(false);\n    document.getElementById(\"checkbox-parent\").checked = selected === children.length;\n    let id = e.target.id;\n    let rowEl = e.target.parentElement.parentElement;\n\n    if (e.target.checked === true) {\n      rowEl.setAttribute(\"style\", \"text-decoration: line-through; opacity:0.5\");\n      SetSelectList(isSelectList => [...isSelectList, id]);\n    } else {\n      rowEl.setAttribute(\"style\", \"text-decoration: none; opacity:1;\");\n      let array = [...isSelectList]; // make a separate copy of the array\n\n      let index = array.indexOf(rowEl);\n\n      if (index !== -1) {\n        array = [...array.slice(0, index), ...array.slice(index + 1)];\n        SetSelectList(array);\n      }\n    }\n  };\n\n  const getSelectedForRemoval = () => {\n    let currList = [];\n    isData.forEach(data => {\n      currList.push(data.filter(function (item, index) {\n        if (!isSelectList.includes(String(index))) return item;\n      }));\n    });\n    SetNewList(isNewList => update(isNewList, {\n      0: {\n        val: {\n          [index]: {\n            set: {\n              $set: currList[0]\n            },\n            reps: {\n              $set: currList[1]\n            },\n            weight: {\n              $set: currList[2]\n            }\n          }\n        }\n      }\n    }));\n    SetData(currList);\n  };\n\n  const addMoreRows = () => {\n    let newRow = [isData[0][isData[0].length - 1] + 1, isData[1][isData[1].length - 1], isData[2][isData[2].length - 1]];\n    SetNewList(isNewList => update(isNewList, {\n      0: {\n        val: {\n          [index]: {\n            set: {\n              $push: [newRow[0]]\n            },\n            reps: {\n              $push: [newRow[1]]\n            },\n            weight: {\n              $push: [newRow[2]]\n            }\n          }\n        }\n      }\n    }));\n    SetData(isData => update(isData, {\n      0: {\n        $push: [newRow[0]]\n      },\n      1: {\n        $push: [newRow[1]]\n      },\n      2: {\n        $push: [newRow[2]]\n      }\n    }));\n  };\n\n  let theadArr = [];\n\n  for (let key in thead) {\n    if (thead.hasOwnProperty(key)) {\n      theadArr.push( /*#__PURE__*/React.createElement(\"th\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, thead[key]));\n    } else {\n      theadArr.push( /*#__PURE__*/React.createElement(\"th\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, key));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    responsive: true,\n    bordered: true,\n    style: style !== undefined ? style : {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    id: \"table-thead-tr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"checkbox-parent\",\n    onClick: toggleAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  })), theadArr)), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, isData[0].map((el, idx) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: \"custom-tr\" + el + idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: idx,\n      type: \"checkbox\",\n      defaultChecked: false,\n      name: \"checkbox-children\",\n      onClick: e => {\n        showRemoveIcon(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(React.Fragment, null, !editable ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"td\", {\n      key: el + idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, el)) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"td\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"numeric\",\n      placeholder: el,\n      size: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"numeric\",\n      placeholder: isData[1][idx],\n      size: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"numeric\",\n      placeholder: isData[2][idx],\n      size: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 27\n      }\n    }))))));\n  }))), isSelected && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Wobble, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-light\",\n    style: {\n      borderRadius: \"10vw\"\n    },\n    onClick: getSelectedForRemoval,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Delete, {\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: index,\n    style: {\n      borderRadius: \"10vw\",\n      background: \"none\",\n      borderStyle: \"hidden\"\n    },\n    onClick: e => {\n      e.preventDefault();\n      addMoreRows();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FcPlus, {\n    size: \"2em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"p-2 font-weight-bold\",\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, \"Add New Set\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default CustomTable;","map":{"version":3,"sources":["/Users/daniel/WebstormProjects/Exercise_App/Exercise_Logger/client/src/components/partials/CustomTable.js"],"names":["React","useState","Button","Table","Delete","wobble","styled","keyframes","update","FcPlus","CustomTable","index","thead","data","SetNewList","isNewList","SetRemoval","style","editable","Wobble","div","isSelected","SetSelect","isSelectList","SetSelectList","isData","SetData","toggleAll","parent","document","getElementById","children","getElementsByName","forEach","el","checked","parentElement","setAttribute","showRemoveIcon","e","selected","length","id","target","rowEl","array","indexOf","slice","getSelectedForRemoval","currList","push","filter","item","includes","String","val","set","$set","reps","weight","addMoreRows","newRow","$push","theadArr","key","hasOwnProperty","undefined","color","map","idx","borderRadius","textAlign","background","borderStyle","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Table } from \"react-bootstrap\";\nimport Delete from \"@material-ui/icons/Delete\";\nimport { wobble } from \"react-animations\";\nimport styled, { keyframes } from \"styled-components\";\nimport update from \"immutability-helper\";\nimport { FcPlus } from \"react-icons/fc\";\nconst CustomTable = ({\n  index,\n  thead,\n  data,\n  SetNewList,\n  isNewList = [],\n  SetRemoval = false,\n  style,\n  editable = false,\n}) => {\n  const Wobble = styled.div`\n    animation: 1s ${keyframes`${wobble}`} infinite;\n  `;\n\n  const [isSelected, SetSelect] = useState(false);\n  const [isSelectList, SetSelectList] = useState([]);\n  const [isData, SetData] = useState(data);\n\n  const toggleAll = () => {\n    let parent = document.getElementById(\"checkbox-parent\");\n    let children = document.getElementsByName(\"checkbox-children\");\n    children.forEach((el) => {\n      el.checked = parent.checked;\n      if (parent.checked) {\n        SetSelect(true);\n        el.parentElement.parentElement.setAttribute(\n          \"style\",\n          \"text-decoration: line-through; opacity:0.5\"\n        );\n        SetSelectList((isSelectList) => [\n          ...isSelectList,\n          el.parentElement.parentElement,\n        ]);\n      } else {\n        SetSelect(false);\n        el.parentElement.parentElement.setAttribute(\n          \"style\",\n          \"text-decoration: none; opacity:1;\"\n        );\n        SetSelectList([]);\n      }\n    });\n  };\n  const showRemoveIcon = (e) => {\n    let children = document.getElementsByName(\"checkbox-children\");\n    let selected = 0;\n    children.forEach((el) => {\n      if (el.checked) selected += 1;\n    });\n    if (selected > 0) SetSelect(true);\n    else SetSelect(false);\n    document.getElementById(\"checkbox-parent\").checked =\n      selected === children.length;\n\n    let id = e.target.id;\n    let rowEl = e.target.parentElement.parentElement;\n    if (e.target.checked === true) {\n      rowEl.setAttribute(\"style\", \"text-decoration: line-through; opacity:0.5\");\n      SetSelectList((isSelectList) => [...isSelectList, id]);\n    } else {\n      rowEl.setAttribute(\"style\", \"text-decoration: none; opacity:1;\");\n      let array = [...isSelectList]; // make a separate copy of the array\n      let index = array.indexOf(rowEl);\n      if (index !== -1) {\n        array = [...array.slice(0, index), ...array.slice(index + 1)];\n        SetSelectList(array);\n      }\n    }\n  };\n  const getSelectedForRemoval = () => {\n    let currList = [];\n    isData.forEach((data) => {\n      currList.push(\n        data.filter(function (item, index) {\n          if (!isSelectList.includes(String(index))) return item;\n        })\n      );\n    });\n    SetNewList((isNewList) =>\n      update(isNewList, {\n        0: {\n          val: {\n            [index]: {\n              set: { $set: currList[0] },\n              reps: { $set: currList[1] },\n              weight: { $set: currList[2] },\n            },\n          },\n        },\n      })\n    );\n    SetData(currList);\n  };\n\n  const addMoreRows = () => {\n    let newRow = [\n      isData[0][isData[0].length - 1] + 1,\n      isData[1][isData[1].length - 1],\n      isData[2][isData[2].length - 1],\n    ];\n    SetNewList((isNewList) =>\n      update(isNewList, {\n        0: {\n          val: {\n            [index]: {\n              set: { $push: [newRow[0]] },\n              reps: { $push: [newRow[1]] },\n              weight: { $push: [newRow[2]] },\n            },\n          },\n        },\n      })\n    );\n    SetData((isData) =>\n      update(isData, {\n        0: {\n          $push: [newRow[0]],\n        },\n        1: {\n          $push: [newRow[1]],\n        },\n        2: {\n          $push: [newRow[2]],\n        },\n      })\n    );\n  };\n\n  let theadArr = [];\n  for (let key in thead) {\n    if (thead.hasOwnProperty(key)) {\n      theadArr.push(<th key={key}>{thead[key]}</th>);\n    } else {\n      theadArr.push(<th key={key}>{key}</th>);\n    }\n  }\n  return (\n    <>\n      <Table\n        striped\n        responsive\n        bordered\n        style={style !== undefined ? style : { color: \"black\" }}\n      >\n        <thead className=\"thead-dark\">\n          <tr id=\"table-thead-tr\">\n            <th>\n              <input type=\"checkbox\" id=\"checkbox-parent\" onClick={toggleAll} />\n            </th>\n            {theadArr}\n          </tr>\n        </thead>\n        <tbody>\n          {isData[0].map((el, idx) => {\n            return (\n              <tr key={\"custom-tr\" + el + idx}>\n                <td>\n                  <input\n                    id={idx}\n                    type=\"checkbox\"\n                    defaultChecked={false}\n                    name=\"checkbox-children\"\n                    onClick={(e) => {\n                      showRemoveIcon(e);\n                    }}\n                  />\n                </td>\n                <>\n                  <>\n                    {!editable ? (\n                      <>\n                        <td key={el + idx}>{el}</td>\n                      </>\n                    ) : (\n                      <>\n                        <td key={idx}>\n                          <input type=\"numeric\" placeholder={el} size={3} />\n                        </td>\n                        <td key={idx}>\n                          <input\n                            type=\"numeric\"\n                            placeholder={isData[1][idx]}\n                            size={3}\n                          />\n                        </td>\n                        <td key={idx}>\n                          <input\n                            type=\"numeric\"\n                            placeholder={isData[2][idx]}\n                            size={3}\n                          />\n                        </td>\n                      </>\n                    )}\n                  </>\n                </>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n\n      {isSelected && (\n        <div className=\"d-flex\">\n          <Wobble>\n            <Button\n              variant=\"outline-light\"\n              style={{ borderRadius: \"10vw\" }}\n              onClick={getSelectedForRemoval}\n            >\n              <Delete color=\"secondary\" />\n            </Button>\n          </Wobble>\n        </div>\n      )}\n      <div className={\"d-flex\"} style={{ textAlign: \"center\" }}>\n        <button\n          id={index}\n          style={{\n            borderRadius: \"10vw\",\n            background: \"none\",\n            borderStyle: \"hidden\",\n          }}\n          onClick={(e) => {\n            e.preventDefault();\n            addMoreRows();\n          }}\n        >\n          <FcPlus size={\"2em\"} />\n          <span className=\"p-2 font-weight-bold\" style={{ color: \"black\" }}>\n            Add New Set\n          </span>\n        </button>\n        <br />\n      </div>\n    </>\n  );\n};\nexport default CustomTable;\n"]},"metadata":{},"sourceType":"module"}