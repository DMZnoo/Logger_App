{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/WebstormProjects/Exercise_App/Exercise_Logger/client/src/components/partials/SubmitUpdate.js\";\nimport React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { MdDone } from \"react-icons/md\";\n\nconst SubmitUpdate = ({\n  index,\n  workoutIndex = -1,\n  isEdit,\n  isEditList = null,\n  isValues = null,\n  isKeys = null,\n  isCurrID,\n  updateData = null,\n  SetEdit,\n  target\n}) => {\n  const {\n    user\n  } = useAuth0();\n  const [isHover, SetHover] = useState(false);\n\n  const handleLog = () => {\n    let logTitle = document.querySelector(`#log-title-${index}`);\n    let logDesc = document.querySelector(`#log-desc-${index}`);\n\n    if (target === \"Log\") {\n      logTitle = logTitle.value === null || logTitle.value.length === 0 ? logTitle.getAttribute(\"placeholder\") : logTitle.value;\n      logDesc = logDesc.value === null || logDesc.value.length === 0 ? logDesc.getAttribute(\"placeholder\") : logDesc.value;\n    } else {\n      logTitle = logTitle.innerText;\n      logDesc = logDesc.innerText;\n    } //edit the log\n\n\n    axios.post(`api/logs/update/${isCurrID[index]}`, {\n      username: user.email,\n      title: logTitle,\n      description: logDesc\n    }).then(response => {\n      console.log(\"Log Updated\");\n      console.log(\"Updated Log data\", response);\n      let promises = [];\n      Object.values(response.data.exercises).forEach((ex, idx) => {\n        console.log(\"ExerciseID:\", ex);\n        promises.push(handleWorkout(ex, idx));\n      });\n      Promise.all(promises).then(() => {\n        SetEdit(isEdit => [...isEdit.slice(0, index), false, ...isEdit.slice(index + 1)]);\n        updateData(response.data, true, false);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleWorkout = (exerciseId, index) => {\n    console.log(\"ExerciseId Handling:\", exerciseId);\n\n    if (isValues === null && isKeys === null) {\n      const data = Object.assign({}, isEditList[index]);\n      isValues = Object.values(data[0]);\n      isKeys = Object.keys(data[0]);\n      console.log(isValues);\n      console.log(isKeys);\n    }\n\n    axios.post(`/api/exercises/update/${exerciseId}`, {\n      name: isValues[isKeys.indexOf(\"name\")],\n      description: isValues[isKeys.indexOf(\"description\")],\n      set: isValues[isKeys.indexOf(\"set\")],\n      reps: isValues[isKeys.indexOf(\"reps\")],\n      weight: isValues[isKeys.indexOf(\"weight\")]\n    }).then(res => {\n      console.log(\"Updated Workout data\", res);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-success\",\n    style: {\n      borderRadius: \"10vw\",\n      borderStyle: \"hidden\"\n    },\n    onClick: e => {\n      e.preventDefault();\n\n      if (workoutIndex === -1) {\n        handleLog();\n      } else {\n        handleWorkout(isValues[isKeys.indexOf(\"_id\")], workoutIndex);\n        SetEdit(isEdit => [...isEdit.slice(0, workoutIndex), !isEdit[workoutIndex], ...isEdit.slice(workoutIndex + 1)]);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MdDone, {\n    size: \"1.5em\",\n    style: {\n      color: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"p-2 font-weight-bold\",\n    onMouseEnter: () => {\n      SetHover(!isHover);\n    },\n    onMouseOut: () => {\n      SetHover(!isHover);\n    },\n    style: {\n      color: isHover ? \"white\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, \"Save?\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"p-2\",\n    variant: \"outline-danger\",\n    style: {\n      borderRadius: \"10vw\",\n      borderStyle: \"hidden\"\n    },\n    onClick: e => {\n      if (workoutIndex !== -1) {\n        SetEdit(isEdit => [...isEdit.slice(0, workoutIndex), !isEdit[workoutIndex], ...isEdit.slice(workoutIndex + 1)]);\n      } else {\n        SetEdit(isEdit => [...isEdit.slice(0, index), !isEdit[index], ...isEdit.slice(index + 1)]);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default SubmitUpdate;","map":{"version":3,"sources":["/Users/daniel/WebstormProjects/Exercise_App/Exercise_Logger/client/src/components/partials/SubmitUpdate.js"],"names":["React","useState","Button","axios","useAuth0","MdDone","SubmitUpdate","index","workoutIndex","isEdit","isEditList","isValues","isKeys","isCurrID","updateData","SetEdit","target","user","isHover","SetHover","handleLog","logTitle","document","querySelector","logDesc","value","length","getAttribute","innerText","post","username","email","title","description","then","response","console","log","promises","Object","values","data","exercises","forEach","ex","idx","push","handleWorkout","Promise","all","slice","catch","err","exerciseId","assign","keys","name","indexOf","set","reps","weight","res","borderRadius","borderStyle","e","preventDefault","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { MdDone } from \"react-icons/md\";\nconst SubmitUpdate = ({\n  index,\n  workoutIndex = -1,\n  isEdit,\n  isEditList = null,\n  isValues = null,\n  isKeys = null,\n  isCurrID,\n  updateData = null,\n  SetEdit,\n  target,\n}) => {\n  const { user } = useAuth0();\n  const [isHover, SetHover] = useState(false);\n  const handleLog = () => {\n    let logTitle = document.querySelector(`#log-title-${index}`);\n    let logDesc = document.querySelector(`#log-desc-${index}`);\n    if (target === \"Log\") {\n      logTitle =\n        logTitle.value === null || logTitle.value.length === 0\n          ? logTitle.getAttribute(\"placeholder\")\n          : logTitle.value;\n      logDesc =\n        logDesc.value === null || logDesc.value.length === 0\n          ? logDesc.getAttribute(\"placeholder\")\n          : logDesc.value;\n    } else {\n      logTitle = logTitle.innerText;\n      logDesc = logDesc.innerText;\n    }\n\n    //edit the log\n    axios\n      .post(`api/logs/update/${isCurrID[index]}`, {\n        username: user.email,\n        title: logTitle,\n        description: logDesc,\n      })\n      .then((response) => {\n        console.log(\"Log Updated\");\n        console.log(\"Updated Log data\", response);\n        let promises = [];\n        Object.values(response.data.exercises).forEach((ex, idx) => {\n          console.log(\"ExerciseID:\", ex);\n          promises.push(handleWorkout(ex, idx));\n        });\n        Promise.all(promises).then(() => {\n          SetEdit((isEdit) => [\n            ...isEdit.slice(0, index),\n            false,\n            ...isEdit.slice(index + 1),\n          ]);\n          updateData(response.data, true, false);\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleWorkout = (exerciseId, index) => {\n    console.log(\"ExerciseId Handling:\", exerciseId);\n    if (isValues === null && isKeys === null) {\n      const data = Object.assign({}, isEditList[index]);\n      isValues = Object.values(data[0]);\n      isKeys = Object.keys(data[0]);\n      console.log(isValues);\n      console.log(isKeys);\n    }\n    axios\n      .post(`/api/exercises/update/${exerciseId}`, {\n        name: isValues[isKeys.indexOf(\"name\")],\n        description: isValues[isKeys.indexOf(\"description\")],\n        set: isValues[isKeys.indexOf(\"set\")],\n        reps: isValues[isKeys.indexOf(\"reps\")],\n        weight: isValues[isKeys.indexOf(\"weight\")],\n      })\n      .then((res) => {\n        console.log(\"Updated Workout data\", res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <>\n      <Button\n        variant={\"outline-success\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          e.preventDefault();\n          if (workoutIndex === -1) {\n            handleLog();\n          } else {\n            handleWorkout(isValues[isKeys.indexOf(\"_id\")], workoutIndex);\n            SetEdit((isEdit) => [\n              ...isEdit.slice(0, workoutIndex),\n              !isEdit[workoutIndex],\n              ...isEdit.slice(workoutIndex + 1),\n            ]);\n          }\n        }}\n      >\n        <MdDone size={\"1.5em\"} style={{ color: \"green\" }} />\n        <span\n          className=\"p-2 font-weight-bold\"\n          onMouseEnter={() => {\n            SetHover(!isHover);\n          }}\n          onMouseOut={() => {\n            SetHover(!isHover);\n          }}\n          style={{ color: isHover ? \"white\" : \"green\" }}\n        >\n          Save?\n        </span>\n      </Button>\n      <Button\n        className={\"p-2\"}\n        variant={\"outline-danger\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          if (workoutIndex !== -1) {\n            SetEdit((isEdit) => [\n              ...isEdit.slice(0, workoutIndex),\n              !isEdit[workoutIndex],\n              ...isEdit.slice(workoutIndex + 1),\n            ]);\n          } else {\n            SetEdit((isEdit) => [\n              ...isEdit.slice(0, index),\n              !isEdit[index],\n              ...isEdit.slice(index + 1),\n            ]);\n          }\n        }}\n      >\n        Cancel\n      </Button>\n      <hr />\n    </>\n  );\n};\nexport default SubmitUpdate;\n"]},"metadata":{},"sourceType":"module"}