{"ast":null,"code":"import _defineProperty from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\",\"\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    animation: 1s \",\" infinite;\\n  \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import{Button,Table}from\"react-bootstrap\";import Delete from\"@material-ui/icons/Delete\";import{wobble}from\"react-animations\";import styled,{keyframes}from\"styled-components\";import update from\"immutability-helper\";import{FcPlus}from\"react-icons/fc\";var CustomTable=function CustomTable(_ref){var index=_ref.index,thead=_ref.thead,data=_ref.data,SetNewList=_ref.SetNewList,_ref$isNewList=_ref.isNewList,isNewList=_ref$isNewList===void 0?[]:_ref$isNewList,_ref$SetRemoval=_ref.SetRemoval,SetRemoval=_ref$SetRemoval===void 0?false:_ref$SetRemoval,style=_ref.style,_ref$editable=_ref.editable,editable=_ref$editable===void 0?false:_ref$editable;var Wobble=styled.div(_templateObject(),keyframes(_templateObject2(),wobble));var _useState=useState({set:[1],reps:[5],weight:[5]}),_useState2=_slicedToArray(_useState,2),isDesc=_useState2[0],SetDesc=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSelected=_useState4[0],SetSelect=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),isSelectList=_useState6[0],SetSelectList=_useState6[1];var _useState7=useState(data),_useState8=_slicedToArray(_useState7,2),isData=_useState8[0],SetData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),isCurrData=_useState10[0],SetCurrData=_useState10[1];var toggleAll=function toggleAll(){var parent=document.getElementById(\"checkbox-parent\");var children=document.getElementsByName(\"checkbox-children\");children.forEach(function(el){el.checked=parent.checked;if(parent.checked){SetSelect(true);el.parentElement.parentElement.setAttribute(\"style\",\"text-decoration: line-through; opacity:0.5\");SetSelectList(function(isSelectList){return[].concat(_toConsumableArray(isSelectList),[el.parentElement.parentElement]);});}else{SetSelect(false);el.parentElement.parentElement.setAttribute(\"style\",\"text-decoration: none; opacity:1;\");SetSelectList([]);}});};var showRemoveIcon=function showRemoveIcon(e){var children=document.getElementsByName(\"checkbox-children\");var selected=0;children.forEach(function(el){if(el.checked)selected+=1;});if(selected>0)SetSelect(true);else SetSelect(false);document.getElementById(\"checkbox-parent\").checked=selected===children.length;var id=e.target.id;var rowEl=e.target.parentElement.parentElement;if(e.target.checked===true){rowEl.setAttribute(\"style\",\"text-decoration: line-through; opacity:0.5\");SetSelectList(function(isSelectList){return[].concat(_toConsumableArray(isSelectList),[id]);});}else{rowEl.setAttribute(\"style\",\"text-decoration: none; opacity:1;\");var array=_toConsumableArray(isSelectList);// make a separate copy of the array\nvar _index=array.indexOf(rowEl);if(_index!==-1){array=[].concat(_toConsumableArray(array.slice(0,_index)),_toConsumableArray(array.slice(_index+1)));SetSelectList(array);}}};var getSelectedForRemoval=function getSelectedForRemoval(){var currList=[];isData.forEach(function(data){currList.push(data.filter(function(item,idx){if(!isSelectList.includes(String(idx)))return item;}));});SetNewList(function(isNewList){return update(isNewList,{0:{val:_defineProperty({},index,{set:{$set:currList[0]},reps:{$set:currList[1]},weight:{$set:currList[2]}})}});});SetData(currList);};var addMoreRows=function addMoreRows(){var newRow=[isData[0][isData[0].length-1]+1,isData[1][isData[1].length-1],isData[2][isData[2].length-1]];SetNewList(function(isNewList){return update(isNewList,{0:{val:_defineProperty({},index,{set:{$push:[newRow[0]]},reps:{$push:[newRow[1]]},weight:{$push:[newRow[2]]}})}});});SetData(function(isData){return update(isData,{0:{$push:[newRow[0]]},1:{$push:[newRow[1]]},2:{$push:[newRow[2]]}});});};var theadArr=[];for(var key in thead){if(thead.hasOwnProperty(key)){theadArr.push(/*#__PURE__*/React.createElement(\"th\",{key:key},thead[key]));}else{theadArr.push(/*#__PURE__*/React.createElement(\"th\",{key:key},key));}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Table,{striped:true,responsive:true,bordered:true,style:style!==undefined?style:{color:\"black\"}},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",{id:\"table-thead-tr\"},/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:\"checkbox-parent\",onClick:toggleAll})),theadArr)),/*#__PURE__*/React.createElement(\"tbody\",null,isData[0].map(function(el,idx){return/*#__PURE__*/React.createElement(\"tr\",{key:\"custom-tr\"+el+idx},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"input\",{id:idx,type:\"checkbox\",defaultChecked:false,name:\"checkbox-children\",onClick:function onClick(e){showRemoveIcon(e);}})),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(React.Fragment,null,!editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"td\",{key:el+idx},el)):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"td\",{key:idx},/*#__PURE__*/React.createElement(\"input\",{type:\"numeric\",placeholder:el,size:3})),/*#__PURE__*/React.createElement(\"td\",{key:idx},/*#__PURE__*/React.createElement(\"input\",{type:\"numeric\",placeholder:isData[1][idx],size:3})),/*#__PURE__*/React.createElement(\"td\",{key:idx},/*#__PURE__*/React.createElement(\"input\",{type:\"numeric\",placeholder:isData[2][idx],size:3}))))));}))),isSelected&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Wobble,null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-light\",style:{borderRadius:\"10vw\"},onClick:getSelectedForRemoval},/*#__PURE__*/React.createElement(Delete,{color:\"secondary\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"button\",{id:index,style:{borderRadius:\"10vw\",background:\"none\",borderStyle:\"hidden\"},onClick:function onClick(e){e.preventDefault();addMoreRows();}},/*#__PURE__*/React.createElement(FcPlus,{size:\"2em\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"p-2 font-weight-bold\",style:{color:\"black\"}},\"Add New Set\")),/*#__PURE__*/React.createElement(\"br\",null)));};export default CustomTable;","map":{"version":3,"sources":["/var/www/Exercise_Logger/client/src/components/partials/CustomTable.js"],"names":["React","useState","Button","Table","Delete","wobble","styled","keyframes","update","FcPlus","CustomTable","index","thead","data","SetNewList","isNewList","SetRemoval","style","editable","Wobble","div","set","reps","weight","isDesc","SetDesc","isSelected","SetSelect","isSelectList","SetSelectList","isData","SetData","isCurrData","SetCurrData","toggleAll","parent","document","getElementById","children","getElementsByName","forEach","el","checked","parentElement","setAttribute","showRemoveIcon","e","selected","length","id","target","rowEl","array","indexOf","slice","getSelectedForRemoval","currList","push","filter","item","idx","includes","String","val","$set","addMoreRows","newRow","$push","theadArr","key","hasOwnProperty","undefined","color","map","borderRadius","textAlign","background","borderStyle","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Table } from \"react-bootstrap\";\nimport Delete from \"@material-ui/icons/Delete\";\nimport { wobble } from \"react-animations\";\nimport styled, { keyframes } from \"styled-components\";\nimport update from \"immutability-helper\";\nimport { FcPlus } from \"react-icons/fc\";\nconst CustomTable = ({\n  index,\n  thead,\n  data,\n  SetNewList,\n  isNewList = [],\n  SetRemoval = false,\n  style,\n  editable = false,\n}) => {\n  const Wobble = styled.div`\n    animation: 1s ${keyframes`${wobble}`} infinite;\n  `;\n  const [isDesc, SetDesc] = useState({\n    set: [1],\n    reps: [5],\n    weight: [5],\n  });\n  const [isSelected, SetSelect] = useState(false);\n  const [isSelectList, SetSelectList] = useState([]);\n  const [isData, SetData] = useState(data);\n  const [isCurrData, SetCurrData] = useState([]);\n  const toggleAll = () => {\n    let parent = document.getElementById(\"checkbox-parent\");\n    let children = document.getElementsByName(\"checkbox-children\");\n    children.forEach((el) => {\n      el.checked = parent.checked;\n      if (parent.checked) {\n        SetSelect(true);\n        el.parentElement.parentElement.setAttribute(\n          \"style\",\n          \"text-decoration: line-through; opacity:0.5\"\n        );\n        SetSelectList((isSelectList) => [\n          ...isSelectList,\n          el.parentElement.parentElement,\n        ]);\n      } else {\n        SetSelect(false);\n        el.parentElement.parentElement.setAttribute(\n          \"style\",\n          \"text-decoration: none; opacity:1;\"\n        );\n        SetSelectList([]);\n      }\n    });\n  };\n  const showRemoveIcon = (e) => {\n    let children = document.getElementsByName(\"checkbox-children\");\n    let selected = 0;\n    children.forEach((el) => {\n      if (el.checked) selected += 1;\n    });\n    if (selected > 0) SetSelect(true);\n    else SetSelect(false);\n    document.getElementById(\"checkbox-parent\").checked =\n      selected === children.length;\n\n    let id = e.target.id;\n    let rowEl = e.target.parentElement.parentElement;\n    if (e.target.checked === true) {\n      rowEl.setAttribute(\"style\", \"text-decoration: line-through; opacity:0.5\");\n      SetSelectList((isSelectList) => [...isSelectList, id]);\n    } else {\n      rowEl.setAttribute(\"style\", \"text-decoration: none; opacity:1;\");\n      let array = [...isSelectList]; // make a separate copy of the array\n      let index = array.indexOf(rowEl);\n      if (index !== -1) {\n        array = [...array.slice(0, index), ...array.slice(index + 1)];\n        SetSelectList(array);\n      }\n    }\n  };\n  const getSelectedForRemoval = () => {\n    let currList = [];\n    isData.forEach((data) => {\n      currList.push(\n        data.filter(function (item, idx) {\n          if (!isSelectList.includes(String(idx))) return item;\n        })\n      );\n    });\n    SetNewList((isNewList) =>\n      update(isNewList, {\n        0: {\n          val: {\n            [index]: {\n              set: { $set: currList[0] },\n              reps: { $set: currList[1] },\n              weight: { $set: currList[2] },\n            },\n          },\n        },\n      })\n    );\n    SetData(currList);\n  };\n\n  const addMoreRows = () => {\n    let newRow = [\n      isData[0][isData[0].length - 1] + 1,\n      isData[1][isData[1].length - 1],\n      isData[2][isData[2].length - 1],\n    ];\n    SetNewList((isNewList) =>\n      update(isNewList, {\n        0: {\n          val: {\n            [index]: {\n              set: { $push: [newRow[0]] },\n              reps: { $push: [newRow[1]] },\n              weight: { $push: [newRow[2]] },\n            },\n          },\n        },\n      })\n    );\n    SetData((isData) =>\n      update(isData, {\n        0: {\n          $push: [newRow[0]],\n        },\n        1: {\n          $push: [newRow[1]],\n        },\n        2: {\n          $push: [newRow[2]],\n        },\n      })\n    );\n  };\n\n  let theadArr = [];\n  for (let key in thead) {\n    if (thead.hasOwnProperty(key)) {\n      theadArr.push(<th key={key}>{thead[key]}</th>);\n    } else {\n      theadArr.push(<th key={key}>{key}</th>);\n    }\n  }\n  return (\n    <>\n      <Table\n        striped\n        responsive\n        bordered\n        style={style !== undefined ? style : { color: \"black\" }}\n      >\n        <thead className=\"thead-dark\">\n          <tr id=\"table-thead-tr\">\n            <th>\n              <input type=\"checkbox\" id=\"checkbox-parent\" onClick={toggleAll} />\n            </th>\n            {theadArr}\n          </tr>\n        </thead>\n        <tbody>\n          {isData[0].map((el, idx) => {\n            return (\n              <tr key={\"custom-tr\" + el + idx}>\n                <td>\n                  <input\n                    id={idx}\n                    type=\"checkbox\"\n                    defaultChecked={false}\n                    name=\"checkbox-children\"\n                    onClick={(e) => {\n                      showRemoveIcon(e);\n                    }}\n                  />\n                </td>\n                <>\n                  <>\n                    {!editable ? (\n                      <>\n                        <td key={el + idx}>{el}</td>\n                      </>\n                    ) : (\n                      <>\n                        <td key={idx}>\n                          <input type=\"numeric\" placeholder={el} size={3} />\n                        </td>\n                        <td key={idx}>\n                          <input\n                            type=\"numeric\"\n                            placeholder={isData[1][idx]}\n                            size={3}\n                          />\n                        </td>\n                        <td key={idx}>\n                          <input\n                            type=\"numeric\"\n                            placeholder={isData[2][idx]}\n                            size={3}\n                          />\n                        </td>\n                      </>\n                    )}\n                  </>\n                </>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n\n      {isSelected && (\n        <div className=\"d-flex\">\n          <Wobble>\n            <Button\n              variant=\"outline-light\"\n              style={{ borderRadius: \"10vw\" }}\n              onClick={getSelectedForRemoval}\n            >\n              <Delete color=\"secondary\" />\n            </Button>\n          </Wobble>\n        </div>\n      )}\n      <div className={\"d-flex\"} style={{ textAlign: \"center\" }}>\n        <button\n          id={index}\n          style={{\n            borderRadius: \"10vw\",\n            background: \"none\",\n            borderStyle: \"hidden\",\n          }}\n          onClick={(e) => {\n            e.preventDefault();\n            addMoreRows();\n          }}\n        >\n          <FcPlus size={\"2em\"} />\n          <span className=\"p-2 font-weight-bold\" style={{ color: \"black\" }}>\n            Add New Set\n          </span>\n        </button>\n        <br />\n      </div>\n    </>\n  );\n};\nexport default CustomTable;\n"]},"metadata":{},"sourceType":"module"}