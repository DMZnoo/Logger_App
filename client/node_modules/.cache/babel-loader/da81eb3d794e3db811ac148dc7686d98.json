{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Accordion,Button,Card}from\"react-bootstrap\";import{FcPlus}from\"react-icons/fc\";import{useForm}from\"react-hook-form\";import axios from\"axios\";var NewLogList=function NewLogList(_ref){var updateData=_ref.updateData,user=_ref.user;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),isNewLog=_useState2[0],SetNewLog=_useState2[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(data);//add new log\n_context.next=3;return axios.post(\"/api/logs/create\",{username:user.email,title:data[\"new-log-title\"],description:data[\"new-log-desc\"],date:new Date()}).then(function(res){console.log(\"response\");updateData(res.data,true,true);SetNewLog(null);}).catch(function(err){console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,isNewLog,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex d-inline-flex\"},/*#__PURE__*/React.createElement(\"button\",{style:{borderRadius:\"10vw\",background:\"none\",borderStyle:\"hidden\"},onClick:function onClick(e){e.preventDefault();SetNewLog(/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Accordion,{className:\"p-2\",defaultActiveKey:\"0\"},/*#__PURE__*/React.createElement(Card,{style:{overflowX:\"scroll\"}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"label\",{for:\"new-log-title\",className:\"bmd-label-floating\"},\"Title:\"),/*#__PURE__*/React.createElement(\"input\",{name:\"new-log-title\",ref:register({required:true,maxLength:20}),size:25,className:\"form-control\"})),/*#__PURE__*/React.createElement(Accordion.Collapse,{eventKey:\"0\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"new-log-desc\",className:\"bmd-label-floating\"},\"Description:\",\" \"),\" \",/*#__PURE__*/React.createElement(\"textarea\",{name:\"new-log-desc\",ref:register({maxLength:150}),className:\"form-control\",rows:10})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex d-inline-start\",style:{float:\"right\"}},/*#__PURE__*/React.createElement(Button,{className:\"p-2\",variant:\"outline-primary\",type:\"submit\"},\"Submit\"),/*#__PURE__*/React.createElement(Button,{className:\"ml-2 mr-2\",variant:\"outline-danger\",onClick:function onClick(e){e.preventDefault();SetNewLog(null);}},\"Cancel\")))))));}},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(FcPlus,{size:\"2em\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2 p-2 font-weight-bold\",style:{color:\"white\"}},\"Add Log\"))),/*#__PURE__*/React.createElement(\"br\",null)));};export default NewLogList;","map":{"version":3,"sources":["/var/www/Exercise_Logger/client/src/components/log/actions/create/NewLogList.js"],"names":["React","useState","Accordion","Button","Card","FcPlus","useForm","axios","NewLogList","updateData","user","isNewLog","SetNewLog","register","handleSubmit","onSubmit","data","console","log","post","username","email","title","description","date","Date","then","res","catch","err","borderRadius","background","borderStyle","e","preventDefault","overflowX","required","maxLength","float","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Accordion, Button, Card } from \"react-bootstrap\";\nimport { FcPlus } from \"react-icons/fc\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nconst NewLogList = ({ updateData, user }) => {\n  const [isNewLog, SetNewLog] = useState(null);\n  const { register, handleSubmit } = useForm();\n  const onSubmit = async (data) => {\n    console.log(data);\n    //add new log\n    await axios\n      .post(`/api/logs/create`, {\n        username: user.email,\n        title: data[\"new-log-title\"],\n        description: data[\"new-log-desc\"],\n        date: new Date(),\n      })\n      .then((res) => {\n        console.log(\"response\");\n        updateData(res.data, true, true);\n        SetNewLog(null);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <>\n      {isNewLog}\n      <div className={\"d-flex d-inline-flex\"}>\n        <button\n          style={{\n            borderRadius: \"10vw\",\n            background: \"none\",\n            borderStyle: \"hidden\",\n          }}\n          onClick={(e) => {\n            e.preventDefault();\n            SetNewLog(\n              <>\n                <Accordion className={\"p-2\"} defaultActiveKey=\"0\">\n                  <Card style={{ overflowX: \"scroll\" }}>\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                      <Card.Header>\n                        <label\n                          for={\"new-log-title\"}\n                          className={\"bmd-label-floating\"}\n                        >\n                          Title:\n                        </label>\n                        <input\n                          name={\"new-log-title\"}\n                          ref={register({ required: true, maxLength: 20 })}\n                          size={25}\n                          className={\"form-control\"}\n                        />\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"0\">\n                        <Card.Body>\n                          <div className={\"form-group\"}>\n                            <label\n                              for={\"new-log-desc\"}\n                              className={\"bmd-label-floating\"}\n                            >\n                              Description:{\" \"}\n                            </label>{\" \"}\n                            <textarea\n                              name={\"new-log-desc\"}\n                              ref={register({ maxLength: 150 })}\n                              className={\"form-control\"}\n                              rows={10}\n                            />\n                          </div>\n                        </Card.Body>\n                      </Accordion.Collapse>\n                      <div\n                        className={\"d-flex d-inline-start\"}\n                        style={{ float: \"right\" }}\n                      >\n                        <Button\n                          className={\"p-2\"}\n                          variant={\"outline-primary\"}\n                          type=\"submit\"\n                        >\n                          Submit\n                        </Button>\n                        <Button\n                          className={\"ml-2 mr-2\"}\n                          variant={\"outline-danger\"}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            SetNewLog(null);\n                          }}\n                        >\n                          Cancel\n                        </Button>\n                      </div>\n                    </form>\n                  </Card>\n                </Accordion>\n              </>\n            );\n          }}\n        >\n          <>\n            <FcPlus size={\"2em\"} />\n            <span\n              className=\"ml-2 p-2 font-weight-bold\"\n              style={{ color: \"white\" }}\n            >\n              Add Log\n            </span>\n          </>\n        </button>\n        <br />\n      </div>\n    </>\n  );\n};\nexport default NewLogList;\n"]},"metadata":{},"sourceType":"module"}