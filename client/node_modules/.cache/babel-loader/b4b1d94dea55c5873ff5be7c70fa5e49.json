{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/WebstormProjects/Exercise_App/Exercise_Logger/client/src/components/partials/SubmitUpdate.js\";\nimport React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { MdDone } from \"react-icons/md\";\n\nconst SubmitUpdate = ({\n  index,\n  workoutIndex = -1,\n  isEdit,\n  isEditList,\n  isCurrID,\n  updateData,\n  SetEdit,\n  target\n}) => {\n  const {\n    user\n  } = useAuth0();\n  const [isHover, SetHover] = useState(false);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-success\",\n    style: {\n      borderRadius: \"10vw\",\n      borderStyle: \"hidden\"\n    },\n    onClick: e => {\n      e.preventDefault();\n      let logTitle = document.querySelector(`#log-title-${index}`);\n      let logDesc = document.querySelector(`#log-desc-${index}`);\n\n      if (target === \"Log\") {\n        logTitle = logTitle.value === null || logTitle.value.length === 0 ? logTitle.getAttribute(\"placeholder\") : logTitle.value;\n        logDesc = logDesc.value === null || logDesc.value.length === 0 ? logDesc.getAttribute(\"placeholder\") : logDesc.value;\n      } else {\n        logTitle = logTitle.innerText;\n        logDesc = logDesc.innerText;\n      }\n\n      console.log(logTitle);\n      console.log(logDesc);\n      console.log(user.email);\n      console.log(\"editList:\", isEditList[0][1]); //edit the log\n\n      axios.post(`api/logs/update/${isCurrID[index]}`, {\n        username: user.email,\n        title: logTitle,\n        description: logDesc,\n        exercises: isEditList[0][1]\n      }).then(response => {\n        console.log(\"Log Updated\");\n\n        if (workoutIndex !== -1) {\n          SetEdit(isEdit => [...isEdit.slice(0, workoutIndex), !isEdit[workoutIndex], ...isEdit.slice(workoutIndex + 1)]);\n        } else {\n          SetEdit(isEdit => [...isEdit.slice(0, index), !isEdit[index], ...isEdit.slice(index + 1)]);\n        }\n\n        console.log(\"Updated Log data\", response);\n        updateData(response.data, true, false);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MdDone, {\n    size: \"1.5em\",\n    style: {\n      color: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"p-2 font-weight-bold\",\n    onMouseEnter: () => {\n      SetHover(!isHover);\n    },\n    onMouseOut: () => {\n      SetHover(!isHover);\n    },\n    style: {\n      color: isHover ? \"white\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Save?\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"p-2\",\n    variant: \"outline-danger\",\n    style: {\n      borderRadius: \"10vw\",\n      borderStyle: \"hidden\"\n    },\n    onClick: e => {\n      if (workoutIndex !== -1) {\n        SetEdit(isEdit => [...isEdit.slice(0, workoutIndex), !isEdit[workoutIndex], ...isEdit.slice(workoutIndex + 1)]);\n      } else {\n        SetEdit(isEdit => [...isEdit.slice(0, index), !isEdit[index], ...isEdit.slice(index + 1)]);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default SubmitUpdate;","map":{"version":3,"sources":["/Users/daniel/WebstormProjects/Exercise_App/Exercise_Logger/client/src/components/partials/SubmitUpdate.js"],"names":["React","useState","Button","axios","useAuth0","MdDone","SubmitUpdate","index","workoutIndex","isEdit","isEditList","isCurrID","updateData","SetEdit","target","user","isHover","SetHover","borderRadius","borderStyle","e","preventDefault","logTitle","document","querySelector","logDesc","value","length","getAttribute","innerText","console","log","email","post","username","title","description","exercises","then","response","slice","data","catch","err","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { MdDone } from \"react-icons/md\";\nconst SubmitUpdate = ({\n  index,\n  workoutIndex = -1,\n  isEdit,\n  isEditList,\n  isCurrID,\n  updateData,\n  SetEdit,\n  target,\n}) => {\n  const { user } = useAuth0();\n  const [isHover, SetHover] = useState(false);\n  return (\n    <>\n      <Button\n        variant={\"outline-success\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          e.preventDefault();\n          let logTitle = document.querySelector(`#log-title-${index}`);\n          let logDesc = document.querySelector(`#log-desc-${index}`);\n          if (target === \"Log\") {\n            logTitle =\n              logTitle.value === null || logTitle.value.length === 0\n                ? logTitle.getAttribute(\"placeholder\")\n                : logTitle.value;\n            logDesc =\n              logDesc.value === null || logDesc.value.length === 0\n                ? logDesc.getAttribute(\"placeholder\")\n                : logDesc.value;\n          } else {\n            logTitle = logTitle.innerText;\n            logDesc = logDesc.innerText;\n          }\n\n          console.log(logTitle);\n          console.log(logDesc);\n          console.log(user.email);\n          console.log(\"editList:\", isEditList[0][1]);\n          //edit the log\n          axios\n            .post(`api/logs/update/${isCurrID[index]}`, {\n              username: user.email,\n              title: logTitle,\n              description: logDesc,\n              exercises: isEditList[0][1],\n            })\n            .then((response) => {\n              console.log(\"Log Updated\");\n              if (workoutIndex !== -1) {\n                SetEdit((isEdit) => [\n                  ...isEdit.slice(0, workoutIndex),\n                  !isEdit[workoutIndex],\n                  ...isEdit.slice(workoutIndex + 1),\n                ]);\n              } else {\n                SetEdit((isEdit) => [\n                  ...isEdit.slice(0, index),\n                  !isEdit[index],\n                  ...isEdit.slice(index + 1),\n                ]);\n              }\n              console.log(\"Updated Log data\", response);\n              updateData(response.data, true, false);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        }}\n      >\n        <MdDone size={\"1.5em\"} style={{ color: \"green\" }} />\n        <span\n          className=\"p-2 font-weight-bold\"\n          onMouseEnter={() => {\n            SetHover(!isHover);\n          }}\n          onMouseOut={() => {\n            SetHover(!isHover);\n          }}\n          style={{ color: isHover ? \"white\" : \"green\" }}\n        >\n          Save?\n        </span>\n      </Button>\n      <Button\n        className={\"p-2\"}\n        variant={\"outline-danger\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          if (workoutIndex !== -1) {\n            SetEdit((isEdit) => [\n              ...isEdit.slice(0, workoutIndex),\n              !isEdit[workoutIndex],\n              ...isEdit.slice(workoutIndex + 1),\n            ]);\n          } else {\n            SetEdit((isEdit) => [\n              ...isEdit.slice(0, index),\n              !isEdit[index],\n              ...isEdit.slice(index + 1),\n            ]);\n          }\n        }}\n      >\n        Cancel\n      </Button>\n      <hr />\n    </>\n  );\n};\nexport default SubmitUpdate;\n"]},"metadata":{},"sourceType":"module"}