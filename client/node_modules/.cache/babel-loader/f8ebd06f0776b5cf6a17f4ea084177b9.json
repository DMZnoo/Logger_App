{"ast":null,"code":"import _toConsumableArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from\"react\";import{Button}from\"react-bootstrap\";import axios from\"axios\";import{useAuth0}from\"@auth0/auth0-react\";import{MdDone}from\"react-icons/md\";var SubmitEditLog=function SubmitEditLog(_ref){var index=_ref.index,isEditList=_ref.isEditList,isEdit=_ref.isEdit,isCurrID=_ref.isCurrID,updateData=_ref.updateData,SetEdit=_ref.SetEdit;var _useAuth=useAuth0(),user=_useAuth.user;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-success\",style:{borderRadius:\"10vw\",borderStyle:\"hidden\"},onClick:function onClick(e){e.preventDefault();var date=new Date();var logTitle=document.querySelector(\"#edit-log-title-\".concat(index));var logDesc=document.querySelector(\"#edit-log-desc-\".concat(index));logTitle=logTitle.value===null||logTitle.value.length===0?logTitle.getAttribute(\"placeholder\"):logTitle.value;logDesc=logDesc.value===null||logDesc.value.length===0?logDesc.getAttribute(\"placeholder\"):logDesc.value;//edit the log\naxios.patch(\"api/logs/update/\".concat(isCurrID[index]),{username:user.email,title:logTitle,description:logDesc,exercises:isEditList[0].val,date:date}).then(function(response){console.log(\"Log Updated\");SetEdit(function(isEdit){return[].concat(_toConsumableArray(isEdit.slice(0,index)),[false],_toConsumableArray(isEdit.slice(index+1)));});updateData(true,isCurrID[index]);}).catch(function(err){console.log(err);});SetEdit(function(isEdit){return[].concat(_toConsumableArray(isEdit.slice(0,index)),[!isEdit[index]],_toConsumableArray(isEdit.slice(index+1)));});}},/*#__PURE__*/React.createElement(MdDone,{size:\"2em\",style:{color:\"green\"}}),/*#__PURE__*/React.createElement(\"span\",{className:\"p-2 font-weight-bold\",style:{color:\"black\"}},\"Save?\")),/*#__PURE__*/React.createElement(Button,{className:\"p-2\",variant:\"outline-danger\",style:{borderRadius:\"10vw\",borderStyle:\"hidden\"},onClick:function onClick(e){SetEdit(function(isEdit){return[].concat(_toConsumableArray(isEdit.slice(0,index)),[!isEdit[index]],_toConsumableArray(isEdit.slice(index+1)));});}},\"Cancel\"));};export default SubmitEditLog;","map":{"version":3,"sources":["/var/www/Exercise_Logger/client/src/components/log/actions/edit/SubmitEditLog.js"],"names":["React","Button","axios","useAuth0","MdDone","SubmitEditLog","index","isEditList","isEdit","isCurrID","updateData","SetEdit","user","borderRadius","borderStyle","e","preventDefault","date","Date","logTitle","document","querySelector","logDesc","value","length","getAttribute","patch","username","email","title","description","exercises","val","then","response","console","log","slice","catch","err","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { MdDone } from \"react-icons/md\";\nconst SubmitEditLog = ({\n  index,\n  isEditList,\n  isEdit,\n  isCurrID,\n  updateData,\n  SetEdit,\n}) => {\n  const { user } = useAuth0();\n  return (\n    <>\n      <Button\n        variant={\"outline-success\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          e.preventDefault();\n          let date = new Date();\n          let logTitle = document.querySelector(`#edit-log-title-${index}`);\n          let logDesc = document.querySelector(`#edit-log-desc-${index}`);\n          logTitle =\n            logTitle.value === null || logTitle.value.length === 0\n              ? logTitle.getAttribute(\"placeholder\")\n              : logTitle.value;\n          logDesc =\n            logDesc.value === null || logDesc.value.length === 0\n              ? logDesc.getAttribute(\"placeholder\")\n              : logDesc.value;\n          //edit the log\n          axios\n            .patch(`api/logs/update/${isCurrID[index]}`, {\n              username: user.email,\n              title: logTitle,\n              description: logDesc,\n              exercises: isEditList[0].val,\n              date: date,\n            })\n            .then((response) => {\n              console.log(\"Log Updated\");\n              SetEdit((isEdit) => [\n                ...isEdit.slice(0, index),\n                false,\n                ...isEdit.slice(index + 1),\n              ]);\n              updateData(true, isCurrID[index]);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n          SetEdit((isEdit) => [\n            ...isEdit.slice(0, index),\n            !isEdit[index],\n            ...isEdit.slice(index + 1),\n          ]);\n        }}\n      >\n        <MdDone size={\"2em\"} style={{ color: \"green\" }} />\n        <span className=\"p-2 font-weight-bold\" style={{ color: \"black\" }}>\n          Save?\n        </span>\n      </Button>\n      <Button\n        className={\"p-2\"}\n        variant={\"outline-danger\"}\n        style={{\n          borderRadius: \"10vw\",\n          borderStyle: \"hidden\",\n        }}\n        onClick={(e) => {\n          SetEdit((isEdit) => [\n            ...isEdit.slice(0, index),\n            !isEdit[index],\n            ...isEdit.slice(index + 1),\n          ]);\n        }}\n      >\n        Cancel\n      </Button>\n    </>\n  );\n};\nexport default SubmitEditLog;\n"]},"metadata":{},"sourceType":"module"}