{"ast":null,"code":"import _slicedToArray from\"/var/www/Exercise_Logger/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{NavDropdown,Nav,Navbar,Button}from\"react-bootstrap\";import{LinkContainer}from\"react-router-bootstrap\";import{useAuth0}from\"@auth0/auth0-react\";import axios from\"axios\";var Navigation=function Navigation(){var _useAuth=useAuth0(),loginWithRedirect=_useAuth.loginWithRedirect,logout=_useAuth.logout,isAuthenticated=_useAuth.isAuthenticated,user=_useAuth.user;var name=user.name;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isExpanded=_useState2[0],setExpanded=_useState2[1];useEffect(function(){console.log(\"USER:\",name);if(isAuthenticated){var users=[];axios.get(\"api/users\").then(function(res){if(res.data.length>0)users.push(res.data.username);});var userexists=false;users.forEach(function(el){if(el.username===user.email)userexists=true;});if(!userexists){axios.post(\"api/users/add\",{username:user.email,date:new Date()}).then(function(response){console.log(response);}).catch(function(err){console.log(err);});}}},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Navbar,{bg:\"light\",expand:\"lg\",expanded:isExpanded,style:{borderRadius:\"0.5vw\"}},/*#__PURE__*/React.createElement(LinkContainer,{to:\"/\"},/*#__PURE__*/React.createElement(Navbar.Brand,{className:\"mt-2\",onClick:function onClick(){return setExpanded(false);}},\"Exercise Tracker\")),/*#__PURE__*/React.createElement(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\",className:\"mt-2\",onClick:function onClick(){return setExpanded(isExpanded?false:\"expanded\");}}),/*#__PURE__*/React.createElement(Navbar.Collapse,{id:\"basic-navbar-nav\"},/*#__PURE__*/React.createElement(Nav,{className:\"mr-auto\"},/*#__PURE__*/React.createElement(LinkContainer,{to:\"/exlist\",className:\"mt-2\"},/*#__PURE__*/React.createElement(Nav.Link,{onClick:function onClick(){return setExpanded(false);}},\"List of Exercises\")),isAuthenticated&&/*#__PURE__*/React.createElement(LinkContainer,{to:\"/logs\",className:\"mt-2\"},/*#__PURE__*/React.createElement(Nav.Link,{onClick:function onClick(){return setExpanded(false);}},\"Logs\")),/*#__PURE__*/React.createElement(LinkContainer,{to:\"/about\",className:\"mt-2\"},/*#__PURE__*/React.createElement(Nav.Link,{onClick:function onClick(){return setExpanded(false);}},\"About\"))),/*#__PURE__*/React.createElement(Nav,{className:\"mt-2\"},isAuthenticated?/*#__PURE__*/React.createElement(LinkContainer,{to:\"/profile\",className:\"mt-2\"},/*#__PURE__*/React.createElement(Nav.Link,{onClick:function onClick(){return setExpanded(false);}},\"My Account\")):/*#__PURE__*/React.createElement(Nav.Link,{onClick:function onClick(){return loginWithRedirect({screen_hint:\"signup\"});}},\"No Account?\"),\" \",isAuthenticated?/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:function onClick(){return logout({returnTo:window.location.origin});}},\"Sign Out\"):/*#__PURE__*/React.createElement(Button,{variant:\"outline-success\",onClick:function onClick(){return loginWithRedirect();}},\"Sign In\")))));};export default Navigation;","map":{"version":3,"sources":["/var/www/Exercise_Logger/client/src/components/Navigation.js"],"names":["React","useState","useEffect","NavDropdown","Nav","Navbar","Button","LinkContainer","useAuth0","axios","Navigation","loginWithRedirect","logout","isAuthenticated","user","name","isExpanded","setExpanded","console","log","users","get","then","res","data","length","push","username","userexists","forEach","el","email","post","date","Date","response","catch","err","borderRadius","screen_hint","returnTo","window","location","origin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { NavDropdown, Nav, Navbar, Button } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport axios from \"axios\";\n\nconst Navigation = () => {\n  const { loginWithRedirect, logout, isAuthenticated, user } = useAuth0();\n  const { name } = user;\n  const [isExpanded, setExpanded] = useState(false);\n  useEffect(() => {\n    console.log(\"USER:\", name);\n    if (isAuthenticated) {\n      let users = [];\n      axios.get(\"api/users\").then((res) => {\n        if (res.data.length > 0) users.push(res.data.username);\n      });\n      let userexists = false;\n      users.forEach((el) => {\n        if (el.username === user.email) userexists = true;\n      });\n      if (!userexists) {\n        axios\n          .post(\"api/users/add\", {\n            username: user.email,\n            date: new Date(),\n          })\n          .then((response) => {\n            console.log(response);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    }\n  }, []);\n  return (\n    <div>\n      <Navbar\n        bg=\"light\"\n        expand=\"lg\"\n        expanded={isExpanded}\n        style={{ borderRadius: \"0.5vw\" }}\n      >\n        <LinkContainer to=\"/\">\n          <Navbar.Brand className=\"mt-2\" onClick={() => setExpanded(false)}>\n            Exercise Tracker\n          </Navbar.Brand>\n        </LinkContainer>\n        <Navbar.Toggle\n          aria-controls=\"basic-navbar-nav\"\n          className=\"mt-2\"\n          onClick={() => setExpanded(isExpanded ? false : \"expanded\")}\n        />\n\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <LinkContainer to=\"/exlist\" className=\"mt-2\">\n              <Nav.Link onClick={() => setExpanded(false)}>\n                List of Exercises\n              </Nav.Link>\n            </LinkContainer>\n            {isAuthenticated && (\n              <LinkContainer to=\"/logs\" className=\"mt-2\">\n                <Nav.Link onClick={() => setExpanded(false)}>Logs</Nav.Link>\n              </LinkContainer>\n            )}\n            <LinkContainer to=\"/about\" className=\"mt-2\">\n              <Nav.Link onClick={() => setExpanded(false)}>About</Nav.Link>\n            </LinkContainer>\n          </Nav>\n          <Nav className=\"mt-2\">\n            {isAuthenticated ? (\n              <LinkContainer to=\"/profile\" className=\"mt-2\">\n                <Nav.Link onClick={() => setExpanded(false)}>\n                  My Account\n                </Nav.Link>\n              </LinkContainer>\n            ) : (\n              <Nav.Link\n                onClick={() =>\n                  loginWithRedirect({\n                    screen_hint: \"signup\",\n                  })\n                }\n              >\n                No Account?\n              </Nav.Link>\n            )}{\" \"}\n            {isAuthenticated ? (\n              <Button\n                variant=\"danger\"\n                onClick={() =>\n                  logout({\n                    returnTo: window.location.origin,\n                  })\n                }\n              >\n                Sign Out\n              </Button>\n            ) : (\n              <Button\n                variant=\"outline-success\"\n                onClick={() => loginWithRedirect()}\n              >\n                Sign In\n              </Button>\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </div>\n  );\n};\nexport default Navigation;\n"]},"metadata":{},"sourceType":"module"}